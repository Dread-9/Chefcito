<!-- <ion-header [translucent]="true">
  <ion-toolbar>
      <ion-title> Detalles de la reserva</ion-title>
  </ion-toolbar>
</ion-header> -->
<ion-content [fullscreen]="true">
  <ion-card class="ion-activatable" *ngIf="sharedDataService.getReservations()">
    <ion-card-content>
      <ion-list class="border" lines="none">
        <ion-item>
          <ion-thumbnail slot="start" style="font-size: 60px;"> <!-- Ajusta el tamaño del ion-thumbnail aquí -->
            <ion-icon name="calendar-outline"></ion-icon>
          </ion-thumbnail>
          <ion-list lines="none" >
            <ion-label>Id de mesa: {{ sharedDataService.getReservations()?.table }}</ion-label>
            <ion-label *ngIf="user"> Nombre de Usuario: {{user.name}} {{user.lastName}}</ion-label>
            <ion-label>Mesa Activa: <ion-icon [name]="sharedDataService.getReservations()?.active ? 'ellipse' : 'checkmark-circle'" [color]="sharedDataService.getReservations()?.active ? 'success' : 'danger'"></ion-icon></ion-label>
            <ion-label>Fecha de reserva:{{fechaA}} </ion-label>
            <!-- <ion-button (click)="cancelReservation()" color="danger">Cancelar Reserva</ion-button> -->
          </ion-list>
          <ion-icon name="enter-outline" slot="end" (click)="cancelReservation()" color="danger" style="margin-left: auto;"></ion-icon>
        </ion-item>
      </ion-list>
    </ion-card-content>
    <ion-ripple-effect></ion-ripple-effect>
  </ion-card>
  <ion-segment [(ngModel)]="seleccionado" (ionChange)="cambiarSegmento($event)" mode="ios">
    <ion-segment-button *ngFor="let tipo of foodTypes" [value]="tipo._id">
      <ion-label>{{ tipo.name }}</ion-label>
    </ion-segment-button>
  </ion-segment>
  <ion-card *ngIf="seleccionado">
    <ion-card-content>
      <ng-container *ngFor="let foodType of foodTypes">
        <ng-container *ngIf="seleccionado === foodType._id">
          <!-- <h2>{{ foodType.name }}</h2> -->
          <ion-list>
            <ion-item *ngFor="let food of foodsByType[foodType._id]" >
              <ion-thumbnail slot="start">
                <ion-img [src]="food.img" alt="{{ food.name }}"></ion-img>
              </ion-thumbnail>
              <ion-label>
                <!-- <h2>{{ food._id }}</h2> -->
                <h2>{{ food.name }}</h2>
                <p>{{ food.desc }}</p>
                <p>Precio: {{ food.price }}</p>
                <ion-button (click)="verDetalles(food._id)">Ver Detalles</ion-button>
              </ion-label>  
              <ion-button shape="round" (click)="agregarAlCarrito(food._id)">
                <ion-icon name="add-outline"></ion-icon>
              </ion-button>
            </ion-item>
          </ion-list>
        </ng-container>
      </ng-container>
    </ion-card-content>
  </ion-card>
  <ion-fab slot="fixed" vertical="bottom" horizontal="end" >
    <ion-fab-button (click)="abrirModal()" [disabled]="modalButtonDisabled">
      <ion-icon name="cart-outline"></ion-icon>
    </ion-fab-button> 
  </ion-fab>
  <ion-fab slot="fixed" vertical="bottom" horizontal="start" >
    <ion-fab-button color="medium" (click)="alert()">
     <ion-icon name="information-circle-outline"></ion-icon>
    </ion-fab-button> 
  </ion-fab>
</ion-content>